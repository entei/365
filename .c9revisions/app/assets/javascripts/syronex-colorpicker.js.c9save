{"ts":1380185905844,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * (C) 2008 Syronex / J.M. Rosengard\r\n * http://www.syronex.com/software/jquery-color-picker\r\n *\r\n * - Check mark is either black or white, depending on the darkness \r\n *   of the color selected.\r\n * - Fixed a bug in the original plugin that led to problems when there is \r\n *   more than one colorPicker in a document.\r\n *\r\n * This is based on: \r\n *\r\n * jQuery colorSelect plugin 0.9\r\n * http://plugins.jquery.com/project/colorPickerAgain\r\n * Copyright (c) 2008 Otaku RzO (Renzo Galo Castro Jurado).\r\n * (Original author URL & domain name no longer available.)\r\n *\r\n */\r\n\r\n(function($) {\r\n  $.fn.colorPicker = function($$options) {\r\n    // Defaults\r\n    var $defaults = {\r\n      color:new Array(\r\n\t\"#FFFFFF\", \"#EEEEEE\", \"#FFFF88\", \"#FF7400\", \"#CDEB8B\", \"#6BBA70\",\r\n\t\"#006E2E\", \"#C3D9FF\", \"#4096EE\", \"#356AA0\", \"#FF0096\", \"#B02B2C\", \r\n\t\"#000000\"\r\n\t),\r\n      defaultColor: 0,\r\n      columns: 0,\r\n      click: function($color){}\r\n    };\r\n\t\t\r\n    var $settings = $.extend({}, $defaults, $$options);\r\n\t\t\r\n    // Iterate and reformat each matched element\r\n    return this.each(function() {\r\n      var $this = $(this);\r\n      // build element specific options\r\n      var o = $.meta ? $.extend({}, $settings, $this.data()) : $settings;\r\n      var $$oldIndex = typeof(o.defaultColor)=='number' ? o.defaultColor : -1;\r\n      \r\n      var _html = \"\";\r\n      for(i=0;i<o.color.length;i++){\r\n\t_html += '<div style=\"background-color:'+o.color[i]+';\"></div>';\r\n\tif($$oldIndex==-1 && o.defaultColor==o.color[i]) $$oldIndex = i;\r\n      }\r\n      \r\n      $this.html('<div class=\"jColorSelect\">'+_html+'</div>');\r\n      var $color = $this.children('.jColorSelect').children('div');\r\n      // Set container width\r\n      var w = ($color.width()+2+2) * (o.columns>0 ? o.columns : o.color.length );\r\n      $this.children('.jColorSelect').css('width',w);\r\n      \r\n      // Subscribe to click event of each color box\r\n      $color.each(function(i){\r\n\t$(this).click(function(){\r\n\t  if( $$oldIndex == i ) return;\t  \r\n\t  if( $$oldIndex > -1 ){\r\n\t    cell = $color.eq($$oldIndex);\r\n\t    if(cell.hasClass('check')) cell.removeClass(\r\n\t      'check').removeClass('checkwht').removeClass('checkblk');\r\n\t  }\r\n\t  // Keep index\r\n\t  $$oldIndex = i;\r\n\t  $(this).addClass('check').addClass(isdark(o.color[i]) ? 'checkwht' : 'checkblk');\r\n\t  // Trigger user event\r\n\t  o.click(o.color[i]);\r\n\t});\r\n      });\r\n      \r\n      // Simulate click for defaultColor\r\n      _tmp = $$oldIndex;\r\n      $$oldIndex = -1;\r\n      $color.eq(_tmp).trigger('click');\r\n    });    \r\n    return this;\r\n  };\r\n  \r\n  \r\n})(jQuery);\r\n\r\n/**\r\n * Return true if color is dark, false otherwise.\r\n * (C) 2008 Syronex / J.M. Rosengard\r\n **/\r\nfunction isdark(color){\r\n  var colr = parseInt(color.substr(1), 16);\r\n  return (colr >>> 16) // R\r\n    + ((colr >>> 8) & 0x00ff) // G \r\n    + (colr & 0x0000ff) // B\r\n    < 500;\r\n}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":3489}]],"length":3489}
{"contributors":[],"silentsave":false,"ts":1381080868676,"patch":[[{"diffs":[[0,", \"#"],[-1,"C3D9"],[1,"64C1"],[0,"FF\","]],"start1":1416,"start2":1416,"length1":12,"length2":12}]],"length":3489,"saved":false}
{"ts":1381080977702,"patch":[[{"diffs":[[0,", \"#"],[-1,"64C1"],[1,"C3D9"],[0,"FF\","]],"start1":1416,"start2":1416,"length1":12,"length2":12}]],"length":3489,"saved":false}
